pipeline {
    agent any
    stages {
        stage('Discovery') {
                steps {
                        echo 'Node Discovery completed'
			
                }
        }
	    stage('Provisioning'){
		    
		steps {
			input('Do you want to install OS')
        }
	    }
        stage('OS Install') {
                when {
                        not {
                                branch "master"
                        }
                }
                steps {
			echo "OS up"
			sleep 10
                        }
        }
        stage('Configuration') {
                parallel {
                        stage('Validation') {
                                steps{
                                        echo "Monitoring Agents installed ..."
                                }
                        }
                        stage('Node ready') {
				steps {
					echo 'Running validation tests ..'
				}
                               
			}  }
        }
    }
}
